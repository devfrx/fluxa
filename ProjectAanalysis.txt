STRUCTURE:
src/fluxa/
├── __init__.py                 # Già presente
├── cli.py                      # Già presente - entry point CLI
├── core/                       # Logica principale
│   ├── __init__.py
│   ├── agent.py               # Classe principale Agent
│   ├── config.py              # Configurazione (API URLs, modelli)
│   └── context.py             # Gestione contesto conversazione
├── llm/                        # Interazione con LMStudio
│   ├── __init__.py
│   ├── client.py              # Client API LMStudio
│   ├── models.py              # Gestione modelli disponibili
│   └── streaming.py           # Gestione streaming responses
├── tools/                      # Function calling / Tools
│   ├── __init__.py
│   ├── base.py                # Classe base per tools
│   ├── registry.py            # Registro tools disponibili
│   └── builtin/               # Tools built-in
│       ├── __init__.py
│       ├── file_operations.py
│       ├── web_search.py
│       └── calculations.py
├── memory/                     # Sistema memoria persistente
│   ├── __init__.py
│   ├── database.py            # Gestione aiosqlite
│   ├── models.py              # Modelli dati (conversazioni, task)
│   └── manager.py             # Manager memoria
├── ui/                         # Interfaccia utente
│   ├── __init__.py
│   ├── app.py                 # Applicazione principale
│   └── components/            # Componenti UI
│       ├── __init__.py
│       ├── chat.py
│       ├── settings.py
│       └── history.py
└── utils/                      # Utilities
    ├── __init__.py
    ├── logger.py
    └── validators.py

TECNOLOGIE:
Backend & Core:
    - httpx: Client HTTP async per chiamate a LMStudio API
    - pydantic: Validazione dati e configurazione
    - aiosqlite: Database async SQLite
    - loguru: Logging avanzato

UI:
    - textual: Framework TUI (Terminal UI) moderno e reattivo

AI & Function Calling
    - instructor: Parsing strutturato delle risposte LLM
    - json-schema: Definizione schema per function calling

User Input → UI → Agent → LLM Client → LMStudio API
                   ↓
              Tool Registry ← Tools Execution
                   ↓
              Memory Manager → Database
                   ↓
              Response → UI → User

COMPONENTI CHIAVE:
a) Agent Core: Orchestratore principale
Ricezione input utente
Decide quali tools usare
Gestisce il ciclo richiesta-risposta
Mantiene il contesto

b) LLM Client: Comunicazione con LMStudio
Connessione HTTP alle API locali
Gestione streaming
Parsing risposte
Supporto function calling

c) Tool System: Funzionalità estendibili
Registry dinamico di tools
Validazione parametri
Esecuzione sicura
Logging risultati

d) Memory System: Persistenza dati
Conversazioni storiche
Task e eventi
Configurazioni utente
Cache risposte

e) UI Layer: Interfaccia moderna
Chat interattiva
Visualizzazione tool execution
Settings panel
History browser